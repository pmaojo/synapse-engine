#!/bin/bash
# Use Local Embeddings (FastEmbed)
export FASTEMBED_CACHE_PATH=/home/robin/.cache/fastembed
export GRAPH_STORAGE_PATH=/home/robin/data/graphs
# Json string for auth tokens
export SYNAPSE_AUTH_TOKENS='{"admin_token": {"namespaces": ["*"], "permissions": {"read": true, "write": true, "delete": true, "reason": true}}}'
# Token for the MCP client (same as above)
export SYNAPSE_ADMIN_TOKEN="admin_token"

BINARY=/home/robin/workspace/projects/synapse-engine/target/release/synapse

if [ ! -f "$BINARY" ]; then
    echo "Error: Synapse binary not found at $BINARY" >&2
    exit 1
fi

exec "$BINARY" --mcp
